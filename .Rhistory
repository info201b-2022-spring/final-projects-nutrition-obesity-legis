filter(year == 2018) %>%
select(state, year, total_jail_pop, white_jail_pop, black_jail_pop)
total_2018
View(total_2018)
total_2018 <- data %>%
filter(year == 2018) %>%
select(state, year, total_jail_pop, white_jail_pop, black_jail_pop)
totaljp <- sum(total_2018$total_jail_pop)
totalwp <- sum(total_2018$white_jail_pop)
totalbp <- sum(total_2018$black_jail_pop)
unique(data$region)
unique(data$urbanicity)
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(region) %>%
summarize(avg_bpop = mean(black_jail_pop))
region_inc
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(urbanicty) %>%
summarize(avg_bpop = mean(black_jail_pop))
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(urbanicity) %>%
summarize(avg_bpop = mean(black_jail_pop))
region_inc
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(region) %>%
summarize(avg_bpop = mean(black_jail_pop))
region_inc
total_bpop <- data %>%
filter(year== 2008) %>%
pull(black_pop_15to64) %>%
sum(black_pop_15to64)
total_bpop <- data %>%
filter(year== 2008) %>%
pull(black_pop_15to64) %>%
sum(total_bpop$black_pop_15to64)
total_bpop <- data %>%
filter(year== 2008) %>%
pull(black_pop_15to64)
total_bpop
View(total_bpop)
sum(total_bpop)
total_jail_pops <- data %>%
select(year, white_jail_pop, black_jail_pop) %>%
filter(!is.na(black_jail_pop), !is.na(white_jail_pop)) %>%
group_by(year) %>%
summarise(total = sum(black_jail_pop + white_jail_pop), total_black = sum(black_jail_pop), total_white = sum(white_jail_pop)) %>%
filter(total != 0)
total_jpop <- data %>%
filter(year == 2008) %>%
pull(total_jail_pop)
sum(total_jail_pop)
total_jpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(black_jail_pop))
total_jpop
View(total_jpop)
total_jpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
total_jpop
View(total_jpop)
colnames(total_jpop)
total_jpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop))) %>%
pull(black_jail_pop_rate)
total_jpop
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- mostpop %>%
pull(white_jail_pop_rate)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop))) %>%
select(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
avg_black_rate <- data %>%
select(black_jail_pop_rate, state) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(black_jail_pop_rate)))
avg_black_incarc_rate <- mean(avg_black_rate$avg_rate)
avg_white_rate <- data %>%
select(white_jail_pop_rate, state) %>%
filter(!is.na(white_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(white_jail_pop_rate)))
avg_white_incarc_rate <- mean(avg_white_rate$avg_rate)
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(region) %>%
summarize(avg_bpop = mean(black_jail_pop))
total_bpop <- data %>%
filter(year== 2008) %>%
pull(black_pop_15to64)
sum(total_bpop)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop))) %>%
select(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
sum(total_jail_pop)
rates <- data %>%
select(black_jail_pop_rate, white_jail_pop_rate, year) %>%
group_by(year)
total_jail_pops <- data %>%
select(year, white_jail_pop, black_jail_pop) %>%
filter(!is.na(black_jail_pop), !is.na(white_jail_pop)) %>%
group_by(year) %>%
summarise(total = sum(black_jail_pop + white_jail_pop), total_black = sum(black_jail_pop), total_white = sum(white_jail_pop)) %>%
filter(total != 0)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop))) %>%
select(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop_loc <- most_bpop %>%
pull(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
most_bpop_loc
view(most_bpop_loc)
View(most_bpop_loc)
most_bpop
View(most_bpop)
avg_black_incarc_rate <- mean(avg_black_rate$avg_rate)
avg_black_incarc_rate
avg_black_incarc_rate <- round(mean(avg_black_rate$avg_rate), digits = 2)
avg_black_incarc_rate
avg_black_incarc_rate <- round(mean(avg_black_rate$avg_rate), digits = 3)
avg_black_incarc_rate
avg_black_incarc_rate <- round(mean(avg_black_rate$avg_rate), digits = 2)
avg_white_incarc_rate <- round(mean(avg_white_rate$avg_rate), digits = 2)
avg_white_incarc_rate
library(knitr)
knitr::opts_chunk$set(echo = TRUE)
source("analysis.R")
write.csv(data)
hello <- write.csv(data)
region_inc
highest_region <- region_inc %>%
filter(avg_bpop == max(avg_bpop))
highest_region
highest_region <- region_inc %>%
filter(avg_bpop == max(avg_bpop)) %>%
pull(region)
highest_region
total_jail_pops
View(total_jail_pops)
total_jail_inc <- data %>%
select(year, white_jail_pop_rate, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate), !is.na(white_jail_pop_rate)) %>%
group_by(year) %>%
summarise(black_inc_rate = sum(black_jail_pop_rate), white_inc_rate = sum(white_jail_pop_rate))
View(total_jail_inc)
total_jail_inc <- data %>%
select(year, white_jail_pop_rate, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate), !is.na(white_jail_pop_rate)) %>%
group_by(year) %>%
summarise(black_inc_rate = mean(black_jail_pop_rate), white_inc_rate = mean(white_jail_pop_rate))
View(total_jail_inc)
total_jail_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "blue") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "red")+
geom_point()
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "blue") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "red") +
scale_colour_manual("",
values = c("Black Incarceration Rate"="blue", "White Incarceration Rate"="red")) +
geom_point()
bvw_inc
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "blue") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "red") +
scale_colour_manual("", values = c("Black Incarceration Rate"="blue", "White Incarceration Rate"="red"))
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "Black Incarceration Rate") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "White Incarceration Rate") +
scale_colour_manual("", values = c("Black Incarceration Rate"="blue", "White Incarceration Rate"="red"))
bvw_inc
bvw_inc <- ggplot() +
scale_colour_manual("", values = c("Black Incarceration Rate"="blue", "White Incarceration Rate"="red")) +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "Black Incarceration Rate") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "White Incarceration Rate")
bvw_inc
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "blue") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "red") +
scale_colour_manual("", values = c("Black Incarceration Rate"="blue", "White Incarceration Rate"="red"))
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate), color = "blue") +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate), color = "red") +
theme(
legend.position = c(.95, .95),
legend.justification = c("right", "top"),
legend.box.just = "right",
legend.margin = margin(6, 6, 6, 6)
)
bvw_inc
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Y1")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "Y2")) +
scale_color_manual(name = "Incarceration Rates", values = c("Y1" = "blue", "Y2" = "red"))
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Incarceration Rates", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
title("Black vs White Incarceration Rates per Year")
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Incarceration Rates", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
labs("Black vs White Incarceration Rates per Year")
bvw_inc
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Race Group", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
labs("Black vs White Incarceration Rates per Year")
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Race Group", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
ggtitle("Black vs White Incarceration Rates per Year")
bvw_inc
# Summary values
avg_black_rate <- data %>%
select(black_jail_pop_rate, state) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(black_jail_pop_rate)))
avg_black_incarc_rate <- round(mean(avg_black_rate$avg_rate), digits = 2)
avg_white_rate <- data %>%
select(white_jail_pop_rate, state) %>%
filter(!is.na(white_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(white_jail_pop_rate)))
avg_white_incarc_rate <- round(mean(avg_white_rate$avg_rate), digits = 2)
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(region) %>%
summarize(avg_bpop = mean(black_jail_pop))
highest_region <- region_inc %>%
filter(avg_bpop == max(avg_bpop)) %>%
pull(region)
total_bpop <- data %>%
filter(year== 2008) %>%
pull(black_pop_15to64)
most_bpop <- data %>%
filter(year == 2008) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop_loc <- most_bpop %>%
pull(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
# Incarceration Rates Graph Over Time
total_jail_inc <- data %>%
select(year, white_jail_pop_rate, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate), !is.na(white_jail_pop_rate)) %>%
group_by(year) %>%
summarise(black_inc_rate = mean(black_jail_pop_rate), white_inc_rate = mean(white_jail_pop_rate))
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Race Group", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
ggtitle("Black vs White Incarceration Rates per Year")
# black incarceration rates compared by region
# Summary values
avg_black_rate <- data %>%
filter(year == 2018) %>%
select(black_jail_pop_rate, state) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(black_jail_pop_rate)))
avg_black_incarc_rate <- round(mean(avg_black_rate$avg_rate), digits = 2)
avg_white_rate <- data %>%
filter(year == 2018) %>%
select(white_jail_pop_rate, state) %>%
filter(!is.na(white_jail_pop_rate)) %>%
group_by(state) %>%
summarize(avg_rate = mean(na.omit(white_jail_pop_rate)))
avg_white_incarc_rate <- round(mean(avg_white_rate$avg_rate), digits = 2)
region_inc <- data %>%
filter(!is.na(black_jail_pop)) %>%
group_by(region) %>%
summarize(avg_bpop = mean(black_jail_pop))
highest_region <- region_inc %>%
filter(avg_bpop == max(avg_bpop)) %>%
pull(region)
total_bpop <- data %>%
filter(year== 2018) %>%
pull(black_pop_15to64)
most_bpop <- data %>%
filter(year == 2018) %>%
filter(black_jail_pop == max(na.omit(black_jail_pop)))
most_bpop_loc <- most_bpop %>%
pull(state, county_name)
most_bpop_inc <- most_bpop %>%
pull(black_jail_pop_rate)
most_wpop_inc <- most_bpop %>%
pull(white_jail_pop_rate)
# Incarceration Rates Graph Over Time
total_jail_inc <- data %>%
select(year, white_jail_pop_rate, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate), !is.na(white_jail_pop_rate)) %>%
group_by(year) %>%
summarise(black_inc_rate = mean(black_jail_pop_rate), white_inc_rate = mean(white_jail_pop_rate))
bvw_inc <- ggplot() +
geom_line(data = total_jail_inc, aes(x = year, y = black_inc_rate, color = "Black")) +
geom_line(data = total_jail_inc, aes(x = year, y = white_inc_rate, color = "White")) +
scale_color_manual(name = "Race Group", values = c("Black" = "blue", "White" = "red")) +
xlab("Year") +
ylab("Incarceration Rate") +
ggtitle("Black vs White Incarceration Rates per Year")
# black incarceration rates compared by region
regionally_inc_rate <- data %>%
filter(year == 2018) %>%
select(region, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(region) %>%
summarise(black_inc_rate = mean(black_jail_pop_rate),)
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate)) +
geom_bar(stat="identity")
bvr
jail_pop <- data %>%
filter(year==2018) %>%
pull(black_jail_pop)
sum(jail_pop)
jail_pop <- data %>%
filter(year==2018) %>%
pull(na.omit(black_jail_pop))
sum(jail_pop)
jail_pop <- data %>%
filter(year==2018) %>%
filter(is.na(black_jail_pop)) %>%
pull(na.omit(black_jail_pop))
sum(jail_pop)
jail_pop
jail_pop <- data %>%
filter(year==2018) %>%
filter(!is.na(black_jail_pop)) %>%
pull(na.omit(black_jail_pop))
sum(jail_pop)
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity")
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
ylab("Incaceration Rate") +
ggtitle("Black Incarceration Rate by Region")
guides(fill=guide_legend(title="Region")) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
ylab("Incaceration Rate") +
xlab("Region") +
ggtitle("Black Incarceration Rate by Region")
guides(fill=guide_legend(title="Region")) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
xlab("Region") +
ggtitle("Black Incarceration Rate by Region") +
guides(fill=guide_legend(title="Region")) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
ylab("Incarceration Rate") +
ggtitle("Black Incarceration Rate by Region") +
guides(fill=guide_legend(title="Region")) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
ylab("Incaceration Rate") +
xlab("Region") +
ggtitle("Black Incarceration Rate by Region") +
guides(fill=guide_legend(title="Region"))
bvr
bvr <-ggplot(data=regionally_inc_rate, aes(x=region, y= black_inc_rate, fill = region)) +
geom_bar(stat="identity") +
ylab("Incaceration Rate") +
xlab("Region") +
ggtitle("Black Incarceration Rate by Region") +
guides(fill=guide_legend(title="Region")) +
theme(axis.title.x=element_blank(),
axis.text.x=element_blank(),
axis.ticks.x=element_blank())
bvr
bvs <- data %>%
filter(year == 2018) %>%
select(state, black_jail_pop) %>%
filter(!is.na(black_jail_pop)) %>%
group_by(state) %>%
summarise(avg_black_jpop = mean(black_jail_pop))
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "red", name = "Avg Black Jail Population") +
ggtitle("Black Jail Population Per State")
library(usmap)
bvs <- data %>%
filter(year == 2018) %>%
select(state, black_jail_pop) %>%
filter(!is.na(black_jail_pop)) %>%
group_by(state) %>%
summarise(avg_black_jpop = mean(black_jail_pop))
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "red", name = "Avg Black Jail Population") +
ggtitle("Black Jail Population Per State")
map
View(bvs)
bvs <- data %>%
filter(year == 2018) %>%
select(state, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(state) %>%
summarise(avg_black_jpop = mean(black_jail_pop_rate))
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "red", name = "Avg Black Jail Population") +
ggtitle("Black Jail Population Per State")
map
View(regionally_inc_rate)
View(bvs)
bvs <- data %>%
filter(year == 2018) %>%
select(state, black_jail_pop_rate) %>%
filter(!is.na(black_jail_pop_rate)) %>%
group_by(state) %>%
summarise(avg_black_jpop = mean(black_jail_pop_rate))
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "green", name = "Avg Black Incarceration Rate") +
ggtitle("Average Black Incarceration Rate Per State in 2018")
map
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "dark_blue", name = "Avg Black Incarceration Rate") +
ggtitle("Average Black Incarceration Rate Per State in 2018")
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "blue", name = "Avg Black Incarceration Rate") +
ggtitle("Average Black Incarceration Rate Per State in 2018")
map
map <- plot_usmap(data = bvs, values = "avg_black_jpop") +
scale_fill_continuous(low = "white", high = "red", name = "Avg Black Incarceration Rate") +
ggtitle("Average Black Incarceration Rate Per State in 2018")
map
source("~/final-projects-ttr007/Chart2.R")
source("~/final-projects-ttr007/Chart2.R")
setwd("~/final-projects-ttr007")
source("~/final-projects-ttr007/Chart2.R")
linechart
